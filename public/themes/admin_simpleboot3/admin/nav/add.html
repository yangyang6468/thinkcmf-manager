
<if condition="isset($data)">


    <input type="hidden" name="id" id="id" value="{$data.id}">
    <table class="table table-bordered" style="margin-bottom:1px;border-top-right-radius: 0px;border-top-left-radius:0px;">
        <tr>
            <th width="100">一级菜单</th>
            <td style="text-align:left;padding-left:5px">
                <select class="form-control" style="width: 250px;display: inline-block"  name="parent_id" id="parent_id">
                    <option value="0">--作为一级菜单--</option>
                    <foreach name="nav" item="vo" key="k">
                        <option value="{$k}">{$vo}</option>
                    </foreach>
                </select>
            </td>
        </tr>
        <tr>
            <th width="100">菜单名称</th>
            <td style="text-align:left;padding-left:5px">
                <input type="text" name="name" style="width: 250px"  required class="form-control" value="{$data.name|default=''}">
            </td>
        </tr>
    </table>

<else/>


    <table id="editFormTable" class="table table-bordered" style="margin-bottom:1px;border-top-right-radius: 0px;border-top-left-radius:0px;">
        <tr>
            <th width="100">一级菜单</th>
            <td style="text-align:left;padding-left:5px">
                <select onchange="firstNav(this)" class="form-control" style="width: 250px;display: inline-block"  name="parent_id" >
                    <option value="0">--作为一级菜单--</option>
                    <foreach name="nav" item="vo" key="k">
                        <option value="{$k}">{$vo}</option>
                    </foreach>
                </select>

                <a style="display: none" class="addSecondNav btn btn-primary" href="javascript:addSecondNav()">添加菜单</a>
            </td>
        </tr>
        <tr class="inputName">
            <th width="100">分类</th>
            <td  style="text-align:left;">
                &nbsp; &nbsp; &nbsp; &nbsp;<input  type="radio" name="flag"  value="1" > 导航&nbsp; &nbsp; &nbsp; &nbsp;
                &nbsp; &nbsp; &nbsp; &nbsp;<input  type="radio" name="flag"  value="2" > 链接&nbsp; &nbsp; &nbsp; &nbsp;
            </td>
            </td>
        </tr>
        <tr class="inputName">
            <th width="100">菜单名称</th>
            <td style="text-align:left;padding-left:5px">
                <input type="text" name="name[]" style="width: 250px" placeholder="请输入菜单名称" required class="form-control" value="">
            </td>
        </tr>
    </table>

</if>

<script>

    //select点击修改
    function firstNav(obj) {
        if($(obj).val() != 0){
            $(".addSecondNav").fadeIn(1000);
        }else {
            $(".addSecondNav").fadeOut(1000);
        }
    }

    //新增input框
    function addSecondNav() {
        var s = $(".inputName").size();
        var str = '<tr class="inputName"><th width="100">菜单名称</th><td style="text-align:left;padding-left:5px"><input type="text" name="name[]" style="width: 250px" placeholder="请输入菜单名称" required class="form-control" value=""></td></tr>';
        $("#editFormTable").append(str);

    }
</script>
